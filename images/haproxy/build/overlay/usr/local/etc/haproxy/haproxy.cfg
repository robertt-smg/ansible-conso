# Setting `log` here with the address of 127.0.0.1 will have the effect
# of haproxy sending the udp log messages to its own rsyslog instance
# (which sits at `127.0.0.1`) at the `local0` facility including all
# logs that have a priority greater or equal than debug
global
    ulimit-n 65536
    tune.ssl.default-dh-param 2048
    maxconn 2046
    log 127.0.0.1       local0  debug


# By default we want to use the same logging parameters as defined
# in the global section.
defaults
    log global
    balance roundrobin

    option  dontlognull
    option  dontlog-normal
    option  redispatch

    maxconn 5000
    timeout connect 5s
    timeout client  20s
    timeout server  20s
    timeout queue   30s
    timeout http-request 5s
    timeout http-keep-alive 15s

listen stats 
    bind :8690
    mode http
    stats enable
    stats hide-version
    stats uri /

frontend        http
    bind                      :8080
    default_backend           backend_default

backend         backend_default
    mode http
    errorfile 503 /usr/local/http/200welcome.http
