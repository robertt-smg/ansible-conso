- hosts: Linux
  become: true
  gather_facts: true

  handlers:
  - import_tasks: handlers/handlers.yml

#  roles:
#    - geerlingguy.security
#    - geerlingguy.firewall

  pre_tasks:
  - name: Install Python
    raw: |
      apt-get update
      apt-get install -y python3 python3-pymysql python3-pip python3-cryptography # For Debian/Ubuntu

  - name: Update apt cache if needed.
    apt: update_cache=yes cache_valid_time=3600


  - name: install geerlingguy.security
    include_role:
      name: geerlingguy.security

  - name: install geerlingguy.firewall
    include_role:
      name: geerlingguy.firewall
